const COUNT_LABELS_INPUT_RANGE_DATASET_OPTION=6,createOptionForDatalist=input=>{const datalist=document.querySelector(".custom-range-wrapper #"+input.getAttribute("list")),min=Number(input.min),max=Number(input.max),step=Number(input.step),roundStep=num=>{const digits=String(step).split(".")[1]?.length??0;return Number(num.toFixed(digits))},roundLabelStep=roundStep((max-min)/6);for(let i=min,li=min;i<=max;i=roundStep(i+step)){const opt=document.createElement("option");opt.value=i,i===li&&(opt.label=i,li=roundStep(Math.round(roundStep(li+roundLabelStep)/step)*step)),datalist.appendChild(opt)}},createDatalistForInputRange=inputRange=>{const datalist=document.createElement("datalist");datalist.id="datalist_"+inputRange.id,inputRange.setAttribute("list","datalist_"+inputRange.id),inputRange.parentElement.appendChild(datalist)},setFillClassForDatalistOption=input=>{document.querySelector(".custom-range-wrapper #"+input.getAttribute("list")).querySelectorAll("option").forEach(option=>{Number(option.value)<=Number(input.value)?option.classList.add("fill"):option.classList.remove("fill")})},setFillPercentClassForInputRangeTrack=input=>{const min=Number(input.min),max=Number(input.max),value=Number(input.value),fillPercent=Math.round(100*(value-min)/(max-min)),prevClassFillPercent=input.className.split(" ").find(cl=>cl.includes("fill_percent"));input.classList.remove(prevClassFillPercent),input.classList.add("fill_percent"+fillPercent)},setCurrentValueInOutput=input=>{document.querySelector(`output[for="${input.id}"]`).value=input.value},customInputRangeInit=()=>{const inputsRangeList=document.querySelectorAll('.custom-range-wrapper input[type="range"]');inputsRangeList.forEach(createDatalistForInputRange),inputsRangeList.forEach(createOptionForDatalist),inputsRangeList.forEach(setFillClassForDatalistOption),inputsRangeList.forEach(setFillPercentClassForInputRangeTrack),inputsRangeList.forEach(setCurrentValueInOutput)},customInputRangeHandler=event=>{const inputRange=event.target;setFillClassForDatalistOption(inputRange),setFillPercentClassForInputRangeTrack(inputRange),setCurrentValueInOutput(inputRange)};customInputRangeInit(),document.querySelectorAll(".custom-range-wrapper").forEach(inputRange=>inputRange.addEventListener("input",customInputRangeHandler));